!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="1d420c96-e881-4a89-8d04-b27123c458a8",e._sentryDebugIdIdentifier="sentry-dbid-1d420c96-e881-4a89-8d04-b27123c458a8")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9184],{89184:function(e,s,t){t.d(s,{ChatTopNav:function(){return e6}});var a=t(2899),n=t(43335),r=t(26777),l=t(72242),i=t(17431),o=t(4694);let c=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.fC,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full border border-border hover:opacity-75 duration-150",t),...n})});c.displayName=i.fC.displayName;let d=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.Ee,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...n})});d.displayName=i.Ee.displayName;let u=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(i.NY,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full",t),...n})});u.displayName=i.NY.displayName;let h=e=>{let{className:s,user:t}=e,n=(0,o.useMemo)(()=>[null==t?void 0:t.givenName,null==t?void 0:t.familyName].map(e=>null==e?void 0:e[0]).join("").substring(0,2),[t]);return(0,a.jsxs)(c,{className:s,children:[(0,a.jsx)(d,{src:null==t?void 0:t.profileImageUrl,alt:"pfp"}),(0,a.jsx)(u,{className:"bg-surface-l4 text-fg-primary shadow-sm dark:shadow-none border-border-l1",children:n})]})};var x=t(34116),p=t(88101),m=t(97404),g=t(25459),f=t(76038),j=t(63994),v=t(71331),b=e=>(0,a.jsxs)(v.J,{...e,children:[(0,a.jsx)("path",{d:"M3 5L19 5",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M3 12H7",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"16",cy:"15",r:"4",stroke:"currentColor"}),(0,a.jsx)("path",{d:"M19 18L21 20",stroke:"currentColor",strokeLinecap:"square"}),(0,a.jsx)("path",{d:"M3 19H7",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})]}),y=t(8781),N=t(70702),w=t(6936),k=t(42210),C=t(40955),S=t(98450),I=t(35);let _=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(I.mY,{ref:s,className:(0,l.cn)("flex w-full flex-col overflow-hidden rounded-xl text-popover-foreground",t),...n})});_.displayName=I.mY.displayName;let P=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b-2 border-input-border px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(S._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(I.mY.Input,{ref:s,className:(0,l.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...n})]})});P.displayName=I.mY.Input.displayName;let E=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(I.mY.List,{ref:s,className:(0,l.cn)("overflow-y-auto overflow-x-hidden p-1",t),...n})});E.displayName=I.mY.List.displayName,o.forwardRef((e,s)=>(0,a.jsx)(I.mY.Empty,{ref:s,className:"py-6 text-center text-sm",...e})).displayName=I.mY.Empty.displayName,o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(I.mY.Group,{ref:s,className:(0,l.cn)("overflow-hidden px-2.5 py-2 text-sm text-muted-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...n})}).displayName=I.mY.Group.displayName,o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(I.mY.Separator,{ref:s,className:(0,l.cn)("-mx-1 h-px bg-border",t),...n})}).displayName=I.mY.Separator.displayName;let z=o.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(I.mY.Item,{ref:s,className:(0,l.cn)("relative flex cursor-default select-none items-center gap-2 px-3.5 py-3 text-sm outline-none","after:absolute after:inset-1 after:rounded-lg after:transition ease-in-out","focus:after:bg-card-hover","[&[data-selected='true']]:after:bg-card-hover",t),...n})});z.displayName=I.mY.Item.displayName;var L=t(44199);function D(e){let{locale:s,onChange:t}=e,{t:n}=(0,N.$G)();return(0,a.jsxs)(_,{children:[(0,a.jsx)(P,{placeholder:n("Search language")}),(0,a.jsx)(E,{children:p.nD.map(e=>(0,a.jsx)(O,{locale:e,selected:s===e,onSelect:t},e))})]})}function O(e){let{locale:s,selected:t,onSelect:n}=e,{name:r,nativeName:l}=p.k1[s];return(0,a.jsxs)(z,{value:s,keywords:[l,r],onSelect:()=>n(s),className:"justify-between cursor-pointer",children:[l,t?(0,a.jsx)(L.Z,{className:"size-4","data-testid":"check-icon"}):(0,a.jsx)("span",{className:"text-muted-foreground",children:r})]})}function M(e){let{open:s,onOpenChange:t,locale:n,onLocaleChange:r}=e,{t:i}=(0,N.$G)(),o=(0,y.w)(),c=(0,l.cn)("bg-background rounded-2xl outline-none h-[calc(100dvh-64px-128px)] w-full md:w-[400px] max-w-3xl flex flex-col md:h-[min(500px,90dvh)]",{"rounded-b-none":o});return(0,a.jsxs)(k.c,{open:s,setOpen:t,contentClassName:c,"aria-labelledby":"language-selector-title",children:[(0,a.jsx)(w.$N,{className:"sr-only",children:i("Language Selector")}),(0,a.jsx)(D,{locale:n,onChange:r})]})}var F=t(36270),A=t(83376),Z=t(77215),R=t(76256);let T=e=>{let{className:s,children:t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-fg-secondary inline-flex flex-row items-center gap-1","mt-0.5","w-fit",s),children:t})};function G(e){let{subscriptionType:s}=e,{t}=(0,N.$G)("base");return"PremiumPlus"===s?(0,a.jsx)(T,{className:"text-[#bb992e] dark:text-[#C4A06B]",children:t("Premium+")}):"Premium"===s?(0,a.jsx)(T,{className:"text-[#426db1] dark:text-[#7F93B0]",children:t("Premium")}):"Free"===s||""===s?(0,a.jsx)(T,{children:t("Basic")}):null}let B="/link-x-account-error";var U=t(81211),$=t(89736),H=t(74542),W=t(43701),V=t(98145),Y=t(2974),X=t(14075),K=t(56672);function q(e){let{children:s,className:t}=e,n=(0,l.cn)("text-sm font-medium",t);return(0,a.jsx)("div",{className:n,children:s})}function J(e){let{children:s}=e;return(0,a.jsx)("div",{className:"text-xs text-secondary text-pretty",children:s})}function Q(e){let{children:s,action:t,hidden:n,className:r}=e,i=(0,o.useId)();if(n)return null;let c=(0,o.isValidElement)(t)?(0,o.cloneElement)(t,{"aria-labelledby":i}):t;return(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full gap-4 px-3",children:[(0,a.jsx)("div",{className:(0,l.cn)("max-w-sm min-w-0",r),id:i,children:s}),(0,a.jsx)("div",{className:"text-right min-w-24",children:c})]})}function ee(e){var s;let{onManage:t}=e,{t:n}=(0,N.$G)("settings"),l=(0,r.kP)(),i=null===(s=l.user)||void 0===s?void 0:s.xSubscriptionType,c=(0,U.g)(),d=(0,X.useRouter)(),{data:u}=(0,$.Pd)(),p=c.HIDE_SUBSCRIPTION_FLOWS_FROM_PREMIUM_PLUS_USERS&&"PremiumPlus"===i||(null==u?void 0:u.hasSubscriptions),m=(0,V.Db)({mutationFn:async()=>{let e=window.location.host,s="".concat(e.startsWith("localhost")?"http://":"https://").concat(e).concat("/api/link-x-account/"),t=await (0,Z.t)(s,"X");d.push(t||B)},onError:e=>{(0,H.H)("settings-account",e),d.push(B)}}),g=(0,o.useMemo)(()=>{var e;return!!(null===(e=l.user)||void 0===e?void 0:e.xUserId)},[l.user]);return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6",children:[l.user&&(0,a.jsx)(Q,{action:(0,a.jsx)(x.zx,{variant:"card",size:"pill",className:"text-sm group",onClick:t,children:n("Manage")}),children:(0,a.jsxs)("div",{className:"flex flex-row items-center w-full gap-2",children:[(0,a.jsx)(h,{className:"w-12 h-12 hover:opacity-100",user:l.user}),(0,a.jsxs)("div",{className:"p-1 min-w-0",children:[(0,a.jsxs)(q,{children:[l.user.givenName," ",l.user.familyName]}),(0,a.jsx)("div",{className:"text-secondary truncate",children:l.user.email})]})]})}),c.SHOW_X_BADGE&&l.user&&g&&(0,a.jsx)(Q,{action:(0,a.jsx)(G,{subscriptionType:i}),children:(0,a.jsx)(q,{children:n("\uD835\uDD4F Status")})}),l.user&&!g&&(0,a.jsx)(Q,{action:(0,a.jsx)(x.zx,{variant:"card",size:"pill",className:"text-sm",disabled:m.isPending,onClick:()=>m.mutate(),children:n("Connect")}),children:(0,a.jsx)(q,{children:n("Connect X Account")})}),(0,a.jsx)(es,{}),!p&&c.SHOW_SUBSCRIPTION_FLOWS&&(0,a.jsx)(R.VE,{className:"mt-auto"})]})}function es(){let{t:e,i18n:s}=(0,N.$G)("settings"),t=(0,W.F)(K.Z("selectedLanguage")),[n,r]=(0,o.useState)(!1),l=(0,o.useMemo)(()=>t||s.languages.find(e=>e in p.l2)||p.sm,[s.languages,t]),i=(0,o.useCallback)(e=>{s.changeLanguage(e).then(()=>{W.F.getState().setSelectedLanguage(e),r(!1)}).catch(e=>(0,H.H)("settings-account",e))},[s]),c=(0,a.jsx)(x.zx,{variant:"card",size:"pill",onClick:()=>r(!0),children:e("Change")});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Q,{action:c,children:(0,a.jsxs)(q,{className:"flex items-center gap-2",children:[e("Language"),(0,a.jsx)(Y.Z,{size:16,className:"text-secondary"})]})}),(0,a.jsx)(M,{locale:l,open:n,onLocaleChange:i,onOpenChange:r})]})}var et=t(89916),ea=t(44836);function en(){let{t:e}=(0,N.$G)("settings"),s=(0,U.g)(),t=(0,W.F)(K.Z("userSettings")),n=(0,W.F)(K.Z("fetchSetPreference"));return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6",children:[(0,a.jsx)(et.oX,{}),(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.displayUserMessageMarkdown,onCheckedChange:e=>n("displayUserMessageMarkdown",e)}),children:(0,a.jsx)(q,{children:e("Display Your Message In Markdown")})}),(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.autoWrapLongLinesCode,onCheckedChange:e=>n("autoWrapLongLinesCode",e)}),children:(0,a.jsx)(q,{children:e("Wrap Long Lines For Code Blocks By Default")})}),(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.showConversationPreviews,onCheckedChange:e=>n("showConversationPreviews",e)}),children:(0,a.jsx)(q,{children:e("Show Conversation Previews in History")})}),(null==s?void 0:s.ENABLE_CONVERSATION_TABS)&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.showActiveTabs,onCheckedChange:e=>n("showActiveTabs",e)}),children:(0,a.jsx)(q,{children:e("Show Active Conversation Tabs")})})]})}function er(){let{t:e}=(0,N.$G)("settings"),s=(0,U.g)(),t=(0,W.F)(K.Z("userSettings")),n=(0,W.F)(K.Z("fetchSetPreference"));return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6",children:[(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.autoOpenSearchResults,onCheckedChange:e=>n("autoOpenSearchResults",e)}),children:(0,a.jsx)(q,{children:e("Automatically Open Search Results")})}),(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.disableAutoScroll,onCheckedChange:e=>n("disableAutoScroll",e)}),children:(0,a.jsx)(q,{children:e("Disable Auto Scroll")})}),(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.showFollowUpSuggestions,onCheckedChange:e=>n("showFollowUpSuggestions",e)}),children:(0,a.jsx)(q,{children:e("Show Follow Up Suggestions")})}),(null==s?void 0:s.ENABLE_BROWSER_NOTIFICATIONS)&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.browserNotificationsEnabled,onCheckedChange:e=>n("browserNotificationsEnabled",e)}),children:(0,a.jsx)(q,{children:e('Notify When "Think" Or "DeepSearch" Completes')})}),s.ENABLE_WEBPAGE_ATTACHMENTS&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.autoDetectWebpageAttachments,onCheckedChange:e=>n("autoDetectWebpageAttachments",e)}),children:(0,a.jsx)(q,{children:e("settings.behavior.auto-detect-webpage-attachments",{defaultValue:"Read Webpage Content of Pasted URLs"})})}),(null==s?void 0:s.ENABLE_BRAVE_COMPLETIONS)&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:t.preferences.disableTypeahead,onCheckedChange:e=>n("disableTypeahead",e)}),children:(0,a.jsx)(q,{children:e("settings.behavior.disable-typeahead",{defaultValue:"Disable Typeahead Suggestions"})})})]})}var el=t(63255),ei=t(77119),eo=t(68060),ec=t(13771),ed=t(74239),eu=t(75361);function eh(e){var s;let{onManage:t,onDelete:n}=e,{t:i}=(0,N.$G)("settings"),c=(0,U.g)(),{client:d}=(0,ed.useStatsigClient)(),u=(0,r.kP)(),h=(0,ei.o)(),p=(0,W.F)(K.Z("userSettings")),m=(0,W.F)(K.Z("fetchSetUserSettings")),[g,f]=(0,o.useState)(!1),j=(0,o.useCallback)(()=>{t()},[]),v=(0,o.useCallback)(()=>{n()},[]);return(0,a.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[(0,a.jsxs)(Q,{action:(0,a.jsx)(ea.r,{checked:!p.excludeFromTraining,onCheckedChange:e=>{var s,t;d.logEvent("set_exclude_from_training",String(!e),{userId:null!==(t=null===(s=u.user)||void 0===s?void 0:s.userId)&&void 0!==t?t:""}),m({...p,excludeFromTraining:!e}).catch(()=>{eu.Am.error(i("Failed to update settings"))})}}),children:[(0,a.jsx)(q,{children:i("Improve the Model")}),(0,a.jsx)(J,{children:i("Improve the Model.description")})]}),(null===(s=u.user)||void 0===s?void 0:s.xUserId)&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:p.allowXPersonalization,onCheckedChange:e=>{var s,t;d.logEvent("set_allow_x_personalization",String(e),{userId:null!==(t=null===(s=u.user)||void 0===s?void 0:s.userId)&&void 0!==t?t:""}),m({...p,allowXPersonalization:e}).catch(()=>{eu.Am.error(i("Failed to update settings"))})}}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(q,{children:i("Personalize Grok using X")}),(0,a.jsxs)(J,{children:[i("Personalize Grok using X.description")," ",i("Personalize Grok using X.permissions")]})]})}),c.ENABLE_MEMORY_TOGGLE&&!(0,eo.g)(u.countryCode)&&u.user&&(0,a.jsx)(Q,{action:(0,a.jsx)(ea.r,{checked:p.enableMemory,onCheckedChange:e=>{var s,t;d.logEvent("set_enable_memory",String(e),{userId:null!==(t=null===(s=u.user)||void 0===s?void 0:s.userId)&&void 0!==t?t:""}),m({...p,enableMemory:e}).catch(()=>{eu.Am.error(i("Failed to update settings"))})}}),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(q,{className:"flex flex-row items-center gap-1.5",children:[i("Personalize Grok with your conversation history"),(0,a.jsx)(el.v,{})]}),(0,a.jsx)(J,{children:i("Personalize Grok with your conversation history.description")})]})}),(0,a.jsx)(Q,{action:(0,a.jsx)(x.zx,{variant:"card",size:"pill",className:"text-sm",onClick:j,children:i("Export")}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(q,{children:i("Export Account Data")}),(0,a.jsx)(J,{children:i("Export Account Data.description")})]})}),(0,a.jsxs)(Q,{action:(0,a.jsx)(x.zx,{variant:"card",size:"pill",className:(0,l.cn)("text-sm",g&&"text-red-500"),onBlur:()=>f(!1),onClick:()=>{g?(ec.t.getState().fetchSoftDeleteAllConversations().catch(()=>{console.error(i("Failed to delete conversations"))}),h.routeToConversation(void 0),f(!1)):f(!0)},children:g?i("Are you sure?"):i("Delete")}),children:[(0,a.jsx)(q,{children:i("Delete All Conversations")}),(0,a.jsx)(J,{children:i("Delete All Conversations.description")})]}),(0,a.jsxs)(Q,{action:(0,a.jsx)(x.zx,{variant:"card",size:"pill",className:"max-w-full text-sm text-red-500",onClick:v,children:(0,a.jsx)("span",{className:"truncate",children:i("Permanently Delete")})}),children:[(0,a.jsx)(q,{children:i("Delete Account")}),(0,a.jsx)(J,{children:i("Delete Account.description")})]})]})}var ex=t(30190),ep=t(64846),em=t(60193);function eg(){let{t:e}=(0,N.$G)("settings"),{client:s}=(0,ed.useStatsigClient)(),t=(0,W.F)(e=>e.userSettings.preferences.selectedSystemPromptId),n=(0,ep.Zv)(e=>t?e.draftPromptById[t]:void 0),r=(0,ep.Zv)(e=>t?e.byId[t]:void 0);(0,o.useEffect)(()=>{!n&&t&&ep.Zv.getState().upsertDraftPrompt((null==r?void 0:r.prompt)||"",t)},[t]);let i=(0,o.useMemo)(()=>!!(0,ep.DL)(t)&&(!r&&!!n||!!r&&n!==r.prompt),[n,r]),c=(0,ep.Zv)(K.Z("list")),d=(0,o.useMemo)(()=>c.find(e=>!e.isPreset)||ep.X5,[c]),u=(0,o.useMemo)(()=>c.filter(e=>e.isPreset),[c]),h=(0,o.useCallback)(e=>{let t=W.F.getState();t.userSettings.preferences.selectedSystemPromptId===e.personalityId?(s.logEvent("settings-personality-selected","none",{personalityId:"none"}),t.userSettings.preferences.selectedSystemPromptId=void 0,t.fetchSetPreference("selectedSystemPromptId",void 0).catch(e=>{(0,H.H)("settings-personality:handleSelectPersonality",e)})):(s.logEvent("settings-personality-selected",e.personalityId,{personalityId:e.personalityId}),t.userSettings.preferences.selectedSystemPromptId=e.personalityId,t.fetchSetPreference("selectedSystemPromptId",e.personalityId).catch(e=>{(0,H.H)("settings-personality:handleSelectPersonality",e)}))},[s]),x=(0,o.useCallback)(e=>{let s=ep.Zv.getState(),t=W.F.getState(),a=t.userSettings.preferences.selectedSystemPromptId;if(!a)return;s.upsertDraftPrompt(e,a);let n=s.byId[a];n?s.fetchUpdatePersonality({personalityId:a,name:n.name,description:n.description,prompt:e,isPreset:!0}).catch(e=>{(0,H.H)("settings-personality:handleSave",e),eu.Am.error(e.message)}):s.fetchCreatePersonality({...ep.X5,prompt:e}).then(e=>{t.fetchSetPreference("selectedSystemPromptId",e.personalityId).catch(e=>{(0,H.H)("settings-personality:handleSelectPersonality",e)})}).catch(e=>{(0,H.H)("settings-personality:handleSave",e),eu.Am.error(e.message)})},[t]),p=(0,o.useCallback)(()=>{let e=ep.Zv.getState(),s=W.F.getState().userSettings.preferences.selectedSystemPromptId;s&&e.upsertDraftPrompt((null==r?void 0:r.prompt)||"",s)},[r,t]),m=(0,o.useCallback)(e=>{let s=ep.Zv.getState();t&&s.upsertDraftPrompt(e,t)},[t]),g=(0,o.useId)();return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"pl-4 pb-3 text-sm font-semibold",children:e("Customize Grok's Response")}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 px-1 mb-6",children:[d&&(0,a.jsx)(ef,{personality:d,isSelected:(0,ep.DL)(t),handleSelectPersonality:h}),u.map(e=>(0,a.jsx)(ef,{personality:e,isSelected:t===e.personalityId,handleSelectPersonality:h},e.personalityId))]}),(0,a.jsxs)("div",{className:(0,l.cn)("flex-col gap-2 px-1",t?"flex":"hidden"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 pl-3 text-sm tex‹t-primary",children:(0,a.jsx)("label",{htmlFor:g,className:(0,l.cn)({"text-secondary":!(0,ep.DL)(t)}),children:e("Custom Instructions")})}),(0,a.jsx)(ex.v,{value:n||"",onChange:m,isDirty:i,placeholder:e("How should Grok behave?"),onSave:x,onReset:p,disabled:!(0,ep.DL)(t),textareaId:g})]}),(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-row gap-2 h-full px-8  items-center text-sm text-secondary",t?"hidden":"flex"),children:[(0,a.jsx)(em.Z,{className:"size-4 shrink-0"}),e("Select an instruction set from above to customize Grok's responses.")]})]})}function ef(e){let{personality:s,isSelected:t,handleSelectPersonality:n}=e,r=(0,o.useCallback)(()=>{n(s)},[n,s]);return(0,a.jsxs)(x.zx,{className:(0,l.cn)("flex flex-col items-center justify-start gap-1","text-wrap text-start","w-full rounded-2xl flex-row p-3 group","ring-1 ring-inset ring-toggle-border hover:ring-card-border-focus hover:bg-card-hover text-primary","relative","min-h-16 pr-8",t&&"bg-button-ghost-hover pr-4"),variant:"none",size:"none",onClick:r,children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-sm text-primary",children:s.name}),(0,a.jsx)("p",{className:"text-xs text-secondary",children:s.description})]}),t&&(0,a.jsx)(L.Z,{className:"size-4 text-secondary"})]})}var ej=t(73358),ev=t(38040),eb=t(66218),ey=t(13148),eN=t(76527),ew=t(90044),ek=t(86390),eC=t(17828),eS=t(30725),eI=t(40881),e_=t(41811),eP=t(54444),eE=t(82209),ez=t(80893),eL=t(12707);function eD(){var e,s;let{t}=(0,N.$G)("settings"),n=(0,r.kP)(),i=null===(e=n.user)||void 0===e?void 0:e.email,c=(0,U.g)(),{data:d}=(0,$.Pd)(),u=null===(s=n.user)||void 0===s?void 0:s.xSubscriptionType,h=c.HIDE_SUBSCRIPTION_FLOWS_FROM_PREMIUM_PLUS_USERS&&"PremiumPlus"===u||(null==d?void 0:d.hasSubscriptions),x=(0,o.useMemo)(()=>(null==d?void 0:d.subscriptions.length)&&d.subscriptions.filter(e=>!e.enterprise)||[],[d]);return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,a.jsxs)("div",{className:"px-3",children:[(0,a.jsx)("h1",{className:"font-semibold text-md",children:t("SuperGrok",{defaultValue:"SuperGrok"})}),(0,a.jsx)("p",{className:(0,l.cn)("text-sm text-fg-secondary font-medium mb-4"),children:h?t("Your plan includes:",{defaultValue:"Your plan includes:"}):t("Subscribe to SuperGrok to get:",{defaultValue:"Subscribe to SuperGrok to get:"})}),(0,a.jsxs)("ul",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2 ",children:[(0,a.jsx)(eL.gwl,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-sm",children:t("Everything in free",{defaultValue:"Everything in free"})})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2 ",children:[(0,a.jsx)(eL.gwl,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-sm",children:t("Larger model context window",{defaultValue:"Larger model context window"})})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2 ",children:[(0,a.jsx)(eL.gwl,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-sm",children:t("More queries for Grok 3",{defaultValue:"More queries for Grok 3"})})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2 ",children:[(0,a.jsx)(eL.gwl,{className:"text-fg-secondary",height:14,width:14}),(0,a.jsx)("span",{className:"text-sm",children:t("More queries for Image Generation",{defaultValue:"More queries for Image Generation"})})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2 ",children:[(0,a.jsx)(eL.gwl,{className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"text-sm",children:t("Opportunities to try new features early!",{defaultValue:"Opportunities to try new features early!"})})]})]})]}),c.SHOW_SUBSCRIPTION_FLOWS&&(0,a.jsx)(eO,{subscriptions:x,userMail:i})]})}function eO(e){let{subscriptions:s,userMail:t}=e,{t:n}=(0,N.$G)("settings"),r=(e,s)=>e.x?{label:n("billing-information.x",{defaultValue:"Billing Information (\uD835\uDD4F)"}),manageUrl:"https://x.com/settings/subscription"}:e.apple?{label:n("billing-information.apple",{defaultValue:"Billing Information (Apple)"}),manageUrl:"https://apps.apple.com/account/subscriptions"}:e.google?{label:n("billing-information.google",{defaultValue:"Billing Information (Google)"}),manageUrl:"https://play.google.com/store/account/subscriptions?sku=grok.pro&package=ai.x.grok"}:e.stripe?{label:n("Stripe",{defaultValue:"Billing Information (Stripe)"}),manageUrl:"https://billing.stripe.com/p/login/eVa4iNeNQ3kla9W6oo".concat(s?"?prefilled_email=".concat(s):"")}:{label:"",manageUrl:""};return 0===s.length?(0,a.jsx)(eP.V,{className:"mt-auto"}):s.map(e=>{let{label:l,manageUrl:i}=r(e,t),o=s.length>1?l:n("Billing Information");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e_.Z,{orientation:"horizontal",className:"my-6"}),(0,a.jsx)(Q,{action:(0,a.jsx)(x.zx,{variant:"outline",size:"pill",className:"text-sm",children:(0,a.jsxs)(ez.default,{href:i,target:"_blank",className:"flex items-center gap-2",children:[n("Manage your subscription",{defaultValue:"Manage your subscription"}),(0,a.jsx)(eE.Z,{height:16,width:16,className:"text-neutral-400"})]})}),children:(0,a.jsx)(q,{children:o})},e.createTime)]})})}var eM=t(1136),eF=t(34489);function eA(e){let{icon:s,text:t,tab:n}=e,r=(0,y.w)(),i=(0,eM.ng)(K.Z("tab")),c=(0,eM.ng)(K.Z("setTab")),d="account"===n?i===n||!r&&"home"===i:i===n,u=(0,o.useCallback)(()=>{c(n)},[n]);return(0,a.jsxs)(x.zx,{variant:"ghost",size:"nav",className:(0,l.cn)("group gap-3 px-4 justify-start h-10 hover:bg-card-hover min-w-40",r&&"text-lg h-10 flex",d&&"hover:text-primary text-primary [&>svg]:text-primary bg-card-hover"),onClick:u,children:[(0,a.jsx)(s,{size:18,className:(0,l.cn)("text-secondary group-hover:text-primary",{"text-primary":d})})," ",t,r&&(0,a.jsx)(eF.Z,{className:"text-secondary !ml-auto",size:18})]})}function eZ(e){let{tab:s}=e,{t}=(0,N.$G)("settings");switch((0,y.w)()?s:"home"){case"account":return t("settings-tab.account","Account");case"appearance":return t("settings-tab.appearance","Appearance");case"chat":return t("settings-tab.chat","Chat");case"personality":return t("settings-tab.personality","Personality");case"data":return t("settings-tab.data","Data Controls");case"billing":return t("settings-tab.billing","Billing");case"dev":return t("settings-tab.dev","Dev");case"behavior":return t("settings-tab.behavior","Behavior");default:return t("settings-tab.home","Settings")}}let eR=async()=>{let e=void 0;if(e)return(0,a.jsx)(e,{})},eT=()=>{var e,s,t;let{t:n}=(0,N.$G)("settings"),i=(0,y.w)(),c=(0,eM.ng)(K.Z("tab")),d=(0,eM.ng)(K.Z("setTab")),{resolvedTheme:u}=(0,eI.F)(),h=(0,eM.ng)(K.Z("open")),p=(0,eM.ng)(K.Z("setOpen")),m=(0,U.g)(),g=(0,r.kP)(),{ACCOUNT_URL:v}=(0,f.O)(),b=(0,o.useCallback)(()=>{window.open(v+"/account?redirect=grok-com&theme=".concat(u),"_blank")},[u]),w=(0,o.useCallback)(()=>{window.location.assign(v+"/account?redirect=grok-com&theme=".concat(u))},[u]),{client:S}=(0,ed.useStatsigClient)();(0,ev.y)(ej.aj,e=>{e.preventDefault(),e.stopPropagation(),S.logEvent("pressed_cmd_,"),p(!h)},[h,p,S]);let{data:I}=(0,$.Pd)(),_=null===(e=g.user)||void 0===e?void 0:e.xSubscriptionType,P=m.HIDE_SUBSCRIPTION_FLOWS_FROM_PREMIUM_PLUS_USERS&&"PremiumPlus"===_||(null==I?void 0:I.hasSubscriptions);return(0,a.jsxs)(k.c,{open:h,setOpen:p,contentClassName:(0,l.cn)("focus:outline-0 focus-within:outline-0 gap-2 bg-background rounded-3xl md:min-h-[420px] h-[calc(100dvh-64px)] md:h-4/5 md:h-3/5 md:w-[calc(100%-2rem)] max-w-3xl flex flex-col md:overflow-hidden"),children:[(0,a.jsxs)(C.fK,{className:"relative flex-shrink-0 px-6 pt-5 pb-2 min-h-10",children:[(0,a.jsxs)(C.$N,{className:(0,l.cn)("text-xl text-left","flex flex-row items-center",i&&"home"!==c,i?"justify-center":"justify-between"),children:[(0,a.jsx)(eZ,{tab:c}),!i&&(0,a.jsx)(x.zx,{className:"-mt-2 -mr-2",variant:"ghost",title:n("Close"),size:"icon",onClick:()=>{p(!1),d("home")},tabIndex:-1,children:(0,a.jsx)(j.b0,{size:18,className:"text-secondary"})})]}),(0,a.jsx)(C.Be,{hidden:!0,children:n("Settings")}),i&&"home"!==c&&(0,a.jsx)(x.zx,{className:"absolute left-3.5 -bottom-1",variant:"ghost",size:"icon",onClick:()=>d("home"),children:(0,a.jsx)(eb.Z,{size:18,className:"text-secondary"})})]}),(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col w-full sm:flex-row focus:outline-none h-0 flex-grow",i&&"pb-8 pt-4"),children:[(!i||"home"===c)&&(0,a.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-1.5",{"gap-3 px-2 w-full":i,"pl-3":!i}),children:[(0,a.jsx)(eA,{icon:ey.Z,text:n("account"),tab:"account"}),(0,a.jsx)(eA,{icon:eN.Z,text:n("appearance"),tab:"appearance"}),(0,a.jsx)(eA,{icon:ew.Z,text:n("settings.behavior",{defaultValue:"Behavior"}),tab:"behavior"}),(0,a.jsx)(eA,{icon:ek.Z,text:n("Customize"),tab:"personality"}),g.user&&(0,a.jsx)(eA,{icon:eC.Z,text:n("Data Controls"),tab:"data"}),P&&(0,a.jsx)(eA,{icon:eS.Z,text:n("setting-tab.billing","Billing"),tab:"billing"})]}),("account"===c||!i&&"home"===c)&&(0,a.jsx)(eG,{children:(0,a.jsx)(ee,{onManage:b})}),"appearance"===c&&(0,a.jsx)(eG,{children:(0,a.jsx)(en,{})}),"behavior"===c&&(0,a.jsx)(eG,{children:(0,a.jsx)(er,{})}),"personality"===c&&(0,a.jsx)(eG,{children:(0,a.jsx)(eg,{})}),"data"===c&&g.user&&(0,a.jsx)(eG,{children:(0,a.jsx)(eh,{onManage:b,onDelete:w})}),"billing"===c&&g.user&&(0,a.jsx)(eG,{children:(0,a.jsx)(eD,{})}),"dev"===c&&g.user&&(null===(t=g.user)||void 0===t?void 0:null===(s=t.email)||void 0===s?void 0:s.endsWith("@x.ai"))&&(0,a.jsx)(eG,{children:(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading DevTools..."}),children:(0,a.jsx)(eR,{})})})]})]})};function eG(e){let{children:s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex-1 w-full h-full","pl-4 pr-4 pb-10 md:pr-4","overflow-scroll focus:outline-none"),children:s})}var eB=t(63064),eU=t(89463),e$=t(35813),eH=t(33263),eW=t(74417),eV=t(92127),eY=t(87245),eX=t(3667),eK=t(35525),eq=t(69492),eJ=t(38372),eQ=t(37372),e0=t(32790),e1=t(69735);function e2(e){var s;let{conversation:t}=e,{conversationId:n}=t,{data:r,error:i}=(0,V.aM)({queryKey:["conversation-workspaces",n],queryFn:()=>e1.xU.chatGetConversation({conversationId:n,includeWorkspaces:!0})});(0,e0.c)(i);let o=null==r?void 0:null===(s=r.workspaces)||void 0===s?void 0:s[0];if(!o)return null;let{name:c,icon:d,workspaceId:u}=o;return(0,a.jsx)(ez.default,{href:"/workspace/".concat(u),children:(0,a.jsxs)(eX.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:(0,l.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1","ml-2 mt-0.5"),children:[(0,a.jsx)("span",{className:(0,l.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5"),children:(0,a.jsx)(eQ.in,{icon:d})}),(0,a.jsx)("span",{className:(0,l.cn)("max-w-[0px] @[340px]/nav:max-w-[75px] @[375px]/nav:max-w-[100px] @[430px]/nav:max-w-[150px] @[500px]/nav:max-w-max truncate"),children:c})]})})}let e4={size:20,strokeWidth:2};function e3(e){let{hash:s,isIncognito:t,onLinkClick:n}=e,{t:r}=(0,N.$G)("chat"),{commandPrefix:l}=(0,e$.i)(),i=r(t?"Switch to Default Chat":"Switch to Private Chat"),o=t?"".concat(l,"J"):"".concat(l,"⇧J");return(0,a.jsx)(x.g$,{className:"rounded-full",variant:"ghost",size:"icon","aria-label":i,stayOpenOnClick:!0,tooltipAsChild:!0,tooltipContent:(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[i,l&&(0,a.jsx)("span",{className:"text-secondary",children:o})]}),tooltipContentProps:{side:"bottom"},asChild:!0,children:(0,a.jsx)(ez.default,{href:"/chat".concat(t?"":s),onClick:n,children:t?(0,a.jsx)(j.L_,{...e4,className:"text-input-border-focus-incognito","data-testid":"pi-ghost-fill"}):(0,a.jsx)(j.fh,{...e4,"data-testid":"pi-ghost"})})})}let e8=(e,s,t)=>e?s?n.J5:"ja"===t?n.fk:n.I3:"ja"===t?n.nD:n.$I,e5="#private";function e6(e){var s,t,n;let{conversationIsLoading:i,conversation:c,label:d,shared:u,isOptimisticConversation:v,hideIncognito:y}=e,{t:w,i18n:k}=(0,N.$G)("chat"),{t:C}=(0,N.$G)("base"),S=(0,X.useRouter)(),{routeToConversation:I}=(0,ei.o)(),[_,P]=(0,eK.H)(),E=(0,r.kP)(),z=E.user,L=(0,eU.r)(),{commandPrefix:D,os:O}=(0,e$.i)(),{client:M}=(0,ed.useStatsigClient)(),Z=(0,o.useRef)(null),R=(0,eq.gK)(K.Z("setOptimisticConversationId")),T=(0,eq.gK)(K.Z("setReasoningMode")),G=(0,eq.gK)(K.Z("establishNewConversation")),B=(0,eW._)(K.Z("setIsUpselling")),V=(0,W.F)(K.Z("isIncognito")),Y=(0,W.F)(K.Z("setIsIncognito")),q=(0,W.F)(e=>e.userSettings.preferences.showActiveTabs),J=(0,U.g)(),{SUPPORT_URL:Q}=(0,f.O)(),ee=(0,A.X)(),{data:es}=(0,$.Pd)(),et=null!==(t=null==es?void 0:es.hasSubscriptions)&&void 0!==t&&t,ea=null!==(n=null==es?void 0:null===(s=es.subscriptions)||void 0===s?void 0:s.some(e=>!!e.enterprise))&&void 0!==n&&n,en=(0,W.F)(K.Z("selectedLanguage")),er=(0,o.useMemo)(()=>en||k.languages.find(e=>e in p.l2)||p.sm,[k.languages,en]),el=e8(et,ea,er),eo=(0,eq.gK)(K.Z("lastMessageId"));(0,o.useEffect)(()=>{_===e5&&(Y(!0),P(""))},[_]);let ec=(0,o.useCallback)(()=>{S.push("/sign-out")},[S]),eu=(0,o.useCallback)(()=>{R(void 0),Y(!1),I(void 0)},[S,u]),eh=(0,o.useCallback)(e=>{e.ctrlKey||e.metaKey||(e.preventDefault(),eu())},[eu]);(0,ev.y)(ej.VM,e=>{e.preventDefault(),e.stopPropagation(),M.logEvent("pressed_cmd_j"),eu()},[eu,M]);let[ex,ep]=(0,o.useState)(!1),em=(0,o.useCallback)(()=>{Y(!0),I(void 0)},[]);(0,o.useCallback)(e=>{e.ctrlKey||e.metaKey||em()},[em]);let eg=!!E.user&&!y;(0,ev.y)(ej.op,e=>{eg&&(e.preventDefault(),e.stopPropagation(),M.logEvent("pressed_cmd_shift_j"),em())},[eg,em,M]);let ef=(0,o.useCallback)(e=>{e.ctrlKey||e.metaKey||(e.preventDefault(),Y(!V))},[V]),eb=(0,eM.ng)(K.Z("toggleOpen")),ey=(0,g.s)(K.Z("openMenu")),eN=(0,eB.N)(K.Z("setDrawerOpen")),ew=(0,eB.N)(K.Z("drawerOpen")),ek=(0,o.useCallback)(()=>{eN(!ew)},[ew,eN]),eC=(0,eB.N)(K.Z("tabsCount")),eS=v?V:c?!!z&&c.temporary:V,{getPersonaForConversation:eI}=(0,eH.HG)(),e_=eI(c),eP=(0,o.useCallback)(async()=>{if(!e_)return;T("none");let{initialQuery:e,toolOverrides:s}=(0,F.oe)(e_.personaId,C);M.logEvent("click_persona",e_.personaId,{location:"persona-pills"}),M.logEvent("new_persona_chat",e,{location:"chat-top-nav",toolOverrides:JSON.stringify(s)}),await ee(),await G({message:e,toolOverrides:s,persona:e_,enableRetries:J.ENABLE_AUTO_STREAM_RETRY}).catch(e=>{(0,H.H)("chat-top-nav:establishNewConversation",e)})},[e_,T,J.ENABLE_AUTO_STREAM_RETRY]),eE=(0,o.useMemo)(()=>{if(!e_)return null;let{icon:e,colorClassName:s}=(0,F.DB)(e_.personaId);return(0,a.jsxs)(eX.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:(0,l.cn)("border border-border-l2 px-3 py-1 rounded-full","text-sm text-secondary flex flex-row items-center gap-1","ml-2 mt-0.5"),children:[(0,a.jsx)("span",{className:(0,l.cn)("[&>svg]:h-3.5 [&>svg]:w-3.5",s),children:e}),(0,a.jsx)("span",{className:(0,l.cn)("max-w-[0px] @[340px]/nav:max-w-[75px] @[375px]/nav:max-w-[100px] @[430px]/nav:max-w-[150px] @[500px]/nav:max-w-max truncate"),children:C(e_.name)})]})},[c,e_]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{ref:Z,className:"w-full relative @container/nav z-40",children:[(0,a.jsxs)("div",{className:(0,l.cn)("h-16 top-0 @[80rem]/nav:h-0 @[80rem]/nav:top-8","absolute z-10 flex flex-row items-center justify-center w-full bg-gradient-to-b","from-background via-background via-80% to-transparent @[80rem]/nav:from-transparent @[80rem]/nav:via-transparent"),children:[(0,a.jsxs)("div",{className:"absolute flex flex-row items-center start-1",children:[(0,a.jsx)(ez.default,{href:"/","aria-label":w("Home page"),onClick:eh,className:(0,l.cn)("ms-2 me-[0.5] rounded-lg focus:outline-none focus-visible:ring-1 focus-visible:ring-ring","w-8 sm:w-auto"),children:(0,a.jsx)(el,{className:(0,l.cn)("opacity-80 hover:opacity-100 fill-black dark:fill-white","[&>path]:hidden sm:[&>path]:block [&>#mark]:block [&>#furigana]:opacity-60 [&>#subtitle]:opacity-60")})}),eE,!u&&c&&(0,a.jsx)(e2,{conversation:c})]}),(0,a.jsx)("div",{className:(0,l.cn)("grow justify-center hidden max-w-[50%] @[640px]/nav:flex"),children:d?(0,a.jsx)("div",{className:"text-muted-foreground",children:d}):null}),(0,a.jsxs)("div",{className:"absolute flex flex-row items-center gap-0.5 ml-auto end-3",children:[e_&&!i&&c&&(0,a.jsx)(x.g$,{className:(0,l.cn)("rounded-full",(0,F.DB)(e_.personaId).colorClassName),variant:"ghost",size:"icon",tooltipContent:(0,a.jsxs)("p",{children:[w("New Persona Chat"),D&&(0,a.jsxs)("span",{className:"ml-1 text-secondary",children:[D,"J"]})]}),tooltipContentProps:{side:"bottom"},asChild:!0,children:(0,a.jsx)("div",{onClick:eP,children:(0,a.jsx)(j.VM,{size:20,strokeWidth:2})})}),!e_&&(!i&&c||u)&&(0,a.jsx)(x.g$,{className:"rounded-full",variant:"ghost",size:"icon",tooltipContent:(0,a.jsxs)("p",{children:[w("New Chat"),D&&(0,a.jsxs)("span",{className:"ml-1 text-secondary",children:[D,"J"]})]}),tooltipContentProps:{side:"bottom"},asChild:!0,children:(0,a.jsx)(ez.default,{href:"/chat",onClick:eh,children:(0,a.jsx)(j.VM,{size:20,strokeWidth:2})})}),c&&eo&&!u&&!eS&&(0,a.jsx)(eJ.T,{variant:"ghost",size:"icon",conversationId:c.conversationId,responseId:eo,iconProps:{size:20,strokeWidth:2}}),eg&&!i&&!c&&!u&&(0,a.jsx)(e3,{hash:e5,isIncognito:V,onLinkClick:ef}),(0,a.jsx)(x.g$,{variant:"ghost",size:"icon",className:"rounded-full","aria-label":w("History"),onClick:()=>{M.logEvent("pressed_cmd_k"),ey()},tooltipContent:(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[w("History"),D&&(0,a.jsxs)("span",{className:"text-secondary",children:["macos"===O?D:"".concat(D,"⇧"),"K"]})]}),children:(0,a.jsx)(b,{size:20})}),J.ENABLE_CONVERSATION_TABS&&q&&L&&eC>0&&(0,a.jsx)(x.g$,{variant:"ghost",size:"icon",className:"rounded-full","aria-label":w("open-tabs-drawer-button.label","Tabs"),onClick:ek,tooltipContent:(0,a.jsx)("div",{className:"flex flex-row gap-1",children:w("open-tabs-drawer-button.label","Tabs")}),children:(0,a.jsx)(eY.Z,{className:"h-5 w-5"})}),E.user?(0,a.jsxs)(m.h_,{children:[(0,a.jsx)(m.$F,{asChild:!0,children:(0,a.jsx)(x.zx,{variant:"ghost",size:"icon",className:"p-1 rounded-full",children:(0,a.jsx)(h,{className:"w-8 h-8",user:E.user})})}),(0,a.jsxs)(m.AW,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:[(0,a.jsxs)(m.Xi,{onClick:eb,children:[(0,a.jsx)(j.IE,{className:"size-4 mr-2"}),C("user-dropdown.settings","Settings")]}),(0,a.jsx)(m.Xi,{asChild:!0,children:(0,a.jsxs)(ez.default,{href:Q,target:"_blank",children:[(0,a.jsx)(eV.CE5,{className:"size-4 mr-2"}),C("user-dropdown.help","Help & Feedback")]})}),!et&&J.SHOW_SUBSCRIPTION_FLOWS&&(0,a.jsxs)(m.Xi,{onClick:()=>B(!0),children:[(0,a.jsx)(eV.iNk,{className:"size-4 mr-2"}),C("user-dropdown.upgrade","Upgrade plan")]}),(0,a.jsxs)(m.Xi,{onClick:ec,children:[(0,a.jsx)(j.E2,{className:"size-4 mr-2"}),C("user-dropdown.sign-out","Sign Out")]})]})]}):(0,a.jsx)(e7,{currentLanguage:er})]})]}),(0,a.jsx)(eT,{})]})})}function e7(e){let{currentLanguage:s}=e,t=(0,X.useRouter)(),{t:n,i18n:r}=(0,N.$G)("chat"),{SUPPORT_URL:i}=(0,f.O)(),c=(0,U.g)(),[d,u]=(0,o.useState)(!1),h=(0,o.useCallback)(()=>{t.push("/sign-in")},[t]),p=(0,o.useCallback)(()=>{t.push("/sign-up")},[t]),g=(0,o.useCallback)(e=>{r.changeLanguage(e).then(()=>{W.F.getState().setSelectedLanguage(e),u(!1)}).catch(e=>(0,H.H)("settings-account",e))},[r]);return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,a.jsxs)(m.h_,{children:[(0,a.jsx)(m.$F,{asChild:!0,children:(0,a.jsx)(x.g$,{variant:"ghost",size:"icon",className:"rounded-full hidden @sm:flex",tooltipContent:(0,a.jsx)("div",{className:"flex flex-row gap-1",children:n("Settings")}),children:(0,a.jsx)(j.IE,{size:20})})}),(0,a.jsxs)(m.AW,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5",children:[(0,a.jsx)(et.MF,{}),(0,a.jsx)(m.Xi,{onClick:()=>u(!0),children:n("Language")}),c.SHOW_ANON_HELP_LINK&&(0,a.jsx)(m.Xi,{children:(0,a.jsx)(ez.default,{href:i,target:"_blank",children:n("Help & Feedback")})})]})]}),(0,a.jsxs)(x.zx,{size:"pill",variant:"primary",className:"h-8 px-3 text-sm",onClick:p,children:[(0,a.jsx)(ey.Z,{size:16,strokeWidth:2}),(0,a.jsx)("div",{children:n("Sign up")})]}),(0,a.jsx)(x.zx,{size:"pill",variant:"none",className:(0,l.cn)("hidden @sm:flex","h-8 px-3 text-sm text-primary bg-transparent ring-1 ring-inset ring-toggle-border","hover:bg-button-secondary-hover hover:border-text-secondary"),onClick:h,children:(0,a.jsx)("div",{children:n("Sign in")})}),(0,a.jsx)(M,{locale:s,open:d,onLocaleChange:g,onOpenChange:u})]})}},38372:function(e,s,t){t.d(s,{T:function(){return g}});var a=t(2899),n=t(63994),r=t(34116),l=t(27763),i=t(385),o=t(29072),c=t(69735),d=t(74239),u=t(98145),h=t(44199),x=t(4694),p=t(70702),m=t(75361);let g=e=>{let{conversationId:s,responseId:t,variant:g,size:f,iconProps:j,showLabel:v}=e,{t:b}=(0,p.$G)("chat"),{client:y}=(0,d.useStatsigClient)(),[N,w]=(0,x.useState)(!1),k=(0,i.D)(),{mutate:C,isPending:S,data:I}=(0,u.Db)({mutationFn:()=>c.xU.chatShareConversation({conversationId:s,body:{responseId:t}})}),_=(0,x.useCallback)(e=>{y.logEvent("clicked-share-on-x",e,{location:"share-on-x-button",conversationId:s,responseId:t,shareUrl:e})},[]),P=(0,x.useCallback)(()=>{m.Am.error("Failed to share conversation")},[]),E=(0,x.useCallback)(e=>{let s=window.location.origin+"/share/"+e;_(s),w(!0),(0,o.G)(s,b("Copied share link to clipboard.")),setTimeout(()=>w(!1),1e3)},[]),z=(0,x.useCallback)(()=>{if(null==I?void 0:I.shareLinkId){E(I.shareLinkId);return}C(void 0,{onSuccess:e=>{if(!e.shareLinkId){P();return}E(e.shareLinkId)},onError:()=>{P()}})},[]);return(0,a.jsxs)(r.g$,{variant:g,size:f,"aria-label":b("Share conversation"),onClick:k?()=>{if(null==I?void 0:I.shareLinkId){E(I.shareLinkId);return}let e=new ClipboardItem({"text/plain":c.xU.chatShareConversation({conversationId:s,body:{responseId:t}}).then(e=>window.location.origin+"/share/"+(null==e?void 0:e.shareLinkId)).then(e=>new Blob([e],{type:"text/plain"}))});navigator.clipboard.write([e]).then(()=>{m.Am.success(b("Copied share link to clipboard.")),w(!0),setTimeout(()=>w(!1),1e3)}).catch(e=>m.Am.error(e.message))}:z,className:"rounded-full",tooltipContent:N?b("Copied!"):b("Copy share link"),tooltipContentProps:{side:"bottom"},disabled:S,children:[(0,a.jsx)(l.k,{children:N?(0,a.jsx)(h.Z,{...j}):(0,a.jsx)(n.aA,{...j})},N?"copied":"copy"),v&&(0,a.jsx)("span",{children:b("Share")})]})}},25459:function(e,s,t){t.d(s,{s:function(){return l}});var a=t(29598);let n=[{id:"root",isSearchEnabled:!0,searchQuery:""}];class r{constructor(e,s){this.set=e,this.get=s,this.open=!1,this.selectedItem="",this.pages=n,this.onSearchQueryChange=e=>{let s=this.get().pages[this.get().pages.length-1];this.set({pages:[...this.get().pages.slice(0,-1),{...s,searchQuery:e}]})},this.openMenu=()=>{this.set({open:!0})},this.goBack=()=>{if(1===this.get().pages.length){this.onSearchQueryChange(""),this.set({open:!1}),this.setSelectedItem("");return}this.setSelectedItem(""),this.set({pages:this.get().pages.slice(0,-1)})},this.closeMenu=()=>{this.set({open:!1,selectedItem:"",pages:[{...this.get().pages[0],searchQuery:""}]})},this.setSelectedItem=(0,a.f0)(this.set,"selectedItem"),this.addPage=e=>{this.setSelectedItem(""),this.set({pages:[...this.get().pages,e]})}}}let l=(0,a.MT)(r)},83376:function(e,s,t){t.d(s,{X:function(){return i}});var a=t(95951),n=t(4694),r=t(6240),l=t(87005);let i=()=>{let[e,s]=(0,r.Z)("anonUserId"),[t,i]=(0,r.Z)("anonPrivateKey"),{user:o,refreshAnonUser:c}=(0,l.useSession)(),d=(0,n.useCallback)(async()=>{let{privateKey:e,anonUserId:t}=await (0,a.b)();s(t),i(e),await c(t,e)},[]);return(0,n.useCallback)(async()=>{!o&&t&&e&&await c(e,t).catch(()=>{d().catch(()=>{console.error("Failed to initialize session")})})},[o,t,e,c])}},89916:function(e,s,t){t.d(s,{MF:function(){return p},oX:function(){return m},yU:function(){return x}});var a=t(2899),n=t(34116),r=t(94408),l=t(72242),i=t(88250),o=t(87960),c=t(18016),d=t(82818),u=t(40881);t(4694);var h=t(70702);let x={light:{icon:o.Z,label:"Light"},dark:{icon:c.Z,label:"Dark"},system:{icon:d.Z,label:"System"}};function p(){let{t:e}=(0,h.$G)("base"),{setTheme:s,theme:t}=(0,u.F)(),o={light:e("Light"),dark:e("Dark"),system:e("System")};return(0,a.jsx)("div",{className:"w-full px-1 pt-1 pb-1",children:(0,a.jsx)("div",{className:"flex items-stretch w-full gap-2 justify-stretch",children:Object.entries(x).map(e=>{let[c,{icon:d}]=e;return(0,a.jsxs)(r.u,{disableHoverableContent:!0,children:[(0,a.jsx)(i.aJ,{asChild:!0,children:(0,a.jsx)(n.zx,{className:(0,l.cn)("w-full rounded-lg",{"bg-button-ghost-hover":t===c}),size:"icon",variant:"ghost",onClick:()=>s(c),value:c,children:(0,a.jsx)(d,{size:16})})}),(0,a.jsx)(r._v,{side:"bottom",children:(0,a.jsx)("p",{children:o[c]})})]},c)})})})}function m(){let{t:e}=(0,h.$G)("base"),{setTheme:s,theme:t}=(0,u.F)(),r={light:e("Light"),dark:e("Dark"),system:e("System")};return(0,a.jsx)("div",{className:"w-full px-1 pb-1",children:(0,a.jsx)("div",{className:"flex items-stretch w-full gap-2 justify-stretch",children:Object.entries(x).map(e=>{let[i,{icon:o}]=e;return(0,a.jsxs)(n.zx,{className:(0,l.cn)(t===i&&"bg-button-ghost-hover","w-full rounded-2xl flex-col p-3 group","ring-1 ring-inset ring-toggle-border hover:ring-card-border-focus hover:bg-card-hover text-primary"),variant:"none",size:"none",onClick:()=>s(i),value:i,children:[(0,a.jsx)(o,{className:(0,l.cn)("group-hover:text-primary",t===i?"text-primary":"text-secondary"),size:20}),(0,a.jsx)("p",{children:r[i]})]},i)})})})}}}]);